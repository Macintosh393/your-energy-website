{"version":3,"file":"index.js","sources":["../src/state/state.js","../src/api/your-energy-api.js","../src/service/capitalize.js","../src/render/render-pagination.js","../src/render/render-filters.js","../src/service/pagination.js","../src/handlers/filter-tabs-handler.js","../src/handlers/pagination-handler.js","../src/main.js"],"sourcesContent":["export const state = {\n  filter: 'Muscles',\n  pagination: null,\n};\n","import axios from 'axios';\nimport { state } from '../state/state';\n\naxios.defaults.baseURL = 'https://your-energy.b.goit.study/api';\n\nexport async function getContentByFilter(filter) {\n  const res = await axios.get(\n    `/filters?filter=${filter}&page=${state.pagination.page}&limit=${state.pagination.perPage}`\n  );\n  if (state.pagination.page === 1) {\n    state.pagination.setMaxPage(res.data.totalPages);\n  }\n  return res.data.results;\n}\n","export function capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n","const paginationPagesList = document.querySelector('.pagination-pages');\nconst paginationBackButtons = document.querySelector(\n  '.pagination-back-wrapper'\n);\nconst paginationNextButtons = document.querySelector(\n  '.pagination-next-wrapper'\n);\n\nexport function renderPagination(curPage, maxPage) {\n  if (curPage === 1) {\n    paginationBackButtons.style.opacity = '20%';\n  } else {\n    paginationBackButtons.style.opacity = '100%';\n  }\n\n  if (curPage === maxPage) {\n    paginationNextButtons.style.opacity = '20%';\n  } else {\n    paginationNextButtons.style.opacity = '100%';\n  }\n\n  let pageNumbers = [];\n  for (let i = curPage - 2; i <= curPage + 2; i++) {\n    if (i > 0 && i <= maxPage) {\n      pageNumbers.push(i);\n    }\n  }\n  let markup = pageNumbers\n    .map(pageNumber => {\n      return `<li class=\"pagination-page-number ${pageNumber == curPage ? 'current' : ''}\">${pageNumber}</li>`;\n    })\n    .join('');\n\n  if (curPage < maxPage - 2) {\n    markup += '<li class=\"pagination-page-number\">...</li>';\n  }\n\n  paginationPagesList.innerHTML = markup;\n}\n","import { getContentByFilter } from '../api/your-energy-api';\nimport { capitalize } from '../service/capitalize';\nimport { state } from '../state/state';\nimport { renderPagination } from './render-pagination';\nconst contentList = document.querySelector('.content-list');\n\nexport async function renderFilters() {\n  const data = (await getContentByFilter(state.filter))\n    .map(el => {\n      return `<li class=\"filter-tile\">\n            <img src=\"${el.imgURL}\" class=\"filter-image\" alt=\"${el.name}\"/>\n            <h3 class=\"filter-name\">${capitalize(el.name)}</h3>\n            <p class=\"filter-category\">${el.filter}</p>\n        </li>`;\n    })\n    .join('');\n\n  contentList.innerHTML = data;\n  renderPagination(state.pagination.page, state.pagination.maxPage);\n}\n","import { renderFilters } from '../render/render-filters';\nimport { renderPagination } from '../render/render-pagination';\n\nexport default class Pagination {\n  perPage;\n  page;\n  maxPage;\n\n  constructor(maxPage = 1) {\n    if (window.matchMedia('(min-width: 768px)').matches) {\n      this.perPage = 12;\n    } else {\n      this.perPage = 9;\n    }\n    this.page = 1;\n    this.maxPage = maxPage;\n\n    renderPagination(this.page, this.maxPage);\n  }\n\n  getPage() {\n    return this.page;\n  }\n\n  setMaxPage(maxPage) {\n    this.maxPage = maxPage;\n  }\n\n  next() {\n    if (this.page < this.maxPage) {\n      this.page++;\n    }\n    renderPagination(this.page, this.maxPage);\n    renderFilters();\n  }\n\n  back() {\n    if (this.page > 1) {\n      this.page--;\n    }\n    renderPagination(this.page, this.maxPage);\n    renderFilters();\n  }\n\n  reset() {\n    this.page = 1;\n    renderPagination(this.page, this.maxPage);\n    renderFilters();\n  }\n\n  last() {\n    this.page = this.maxPage;\n    renderPagination(this.page, this.maxPage);\n    renderFilters();\n  }\n}\n","import { renderFilters } from '../render/render-filters';\nimport { state } from '../state/state';\nimport Pagination from '../service/pagination';\n\nexport function addFilterTabsHandler(filterTabsList, destination) {\n  filterTabsList.addEventListener('click', event => {\n    const btn = event.target.closest('.filter-tabs-item');\n    if (!btn) return;\n\n    state.pagination = new Pagination();\n    console.log(state.pagination);\n\n    document\n      .querySelectorAll('.filter-tabs-item')\n      .forEach(item => item.classList.remove('active'));\n    btn.classList.add('active');\n    state.filter = btn.dataset.filter;\n    renderFilters();\n  });\n}\n","import { state } from '../state/state';\n\nexport function addPaginationHandler() {\n  const pagFirstBut = document.querySelector('.pagination-first-button');\n  const pagPrevBut = document.querySelector('.pagination-previous-button');\n  const pagNextBut = document.querySelector('.pagination-next-button');\n  const pagLastBut = document.querySelector('.pagination-last-button');\n\n  pagFirstBut.addEventListener('click', () => state.pagination.reset());\n  pagPrevBut.addEventListener('click', () => state.pagination.back());\n  pagNextBut.addEventListener('click', () => state.pagination.next());\n  pagLastBut.addEventListener('click', () => state.pagination.last());\n}\n","import Pagination from './service/pagination.js';\nimport { addFilterTabsHandler } from './handlers/filter-tabs-handler.js';\nimport { renderFilters } from './render/render-filters.js';\nimport { addPaginationHandler } from './handlers/pagination-handler.js';\nimport { state } from './state/state.js';\n\nasync function initHomePage() {\n  const filterTabsList = document.querySelector('.filter-tabs-list');\n  const contentList = document.querySelector('.content-list');\n  addFilterTabsHandler(filterTabsList, contentList);\n\n  state.pagination = new Pagination();\n  renderFilters('Muscles');\n\n  addPaginationHandler();\n}\n\ninitHomePage();\n"],"names":["state","axios","getContentByFilter","filter","res","capitalize","str","paginationPagesList","paginationBackButtons","paginationNextButtons","renderPagination","curPage","maxPage","pageNumbers","markup","pageNumber","contentList","renderFilters","data","el","Pagination","__publicField","addFilterTabsHandler","filterTabsList","destination","event","btn","item","addPaginationHandler","pagFirstBut","pagPrevBut","pagNextBut","pagLastBut","initHomePage"],"mappings":"87BAAO,MAAMA,EAAQ,CACnB,OAAQ,UACR,WAAY,IACd,ECAAC,EAAM,SAAS,QAAU,uCAElB,eAAeC,EAAmBC,EAAQ,CAC/C,MAAMC,EAAM,MAAMH,EAAM,IACtB,mBAAmBE,CAAM,SAASH,EAAM,WAAW,IAAI,UAAUA,EAAM,WAAW,OAAO,EAC7F,EACE,OAAIA,EAAM,WAAW,OAAS,GAC5BA,EAAM,WAAW,WAAWI,EAAI,KAAK,UAAU,EAE1CA,EAAI,KAAK,OAClB,CCbO,SAASC,EAAWC,EAAK,CAC9B,OAAOA,EAAI,OAAO,CAAC,EAAE,YAAW,EAAKA,EAAI,MAAM,CAAC,CAClD,CCFA,MAAMC,EAAsB,SAAS,cAAc,mBAAmB,EAChEC,EAAwB,SAAS,cACrC,0BACF,EACMC,EAAwB,SAAS,cACrC,0BACF,EAEO,SAASC,EAAiBC,EAASC,EAAS,CAC7CD,IAAY,EACdH,EAAsB,MAAM,QAAU,MAEtCA,EAAsB,MAAM,QAAU,OAGpCG,IAAYC,EACdH,EAAsB,MAAM,QAAU,MAEtCA,EAAsB,MAAM,QAAU,OAGxC,IAAII,EAAc,CAAA,EAClB,QAAS,EAAIF,EAAU,EAAG,GAAKA,EAAU,EAAG,IACtC,EAAI,GAAK,GAAKC,GAChBC,EAAY,KAAK,CAAC,EAGtB,IAAIC,EAASD,EACV,IAAIE,GACI,qCAAqCA,GAAcJ,EAAU,UAAY,EAAE,KAAKI,CAAU,OAClG,EACA,KAAK,EAAE,EAENJ,EAAUC,EAAU,IACtBE,GAAU,+CAGZP,EAAoB,UAAYO,CAClC,CClCA,MAAME,EAAc,SAAS,cAAc,eAAe,EAEnD,eAAeC,GAAgB,CACpC,MAAMC,GAAQ,MAAMhB,EAAmBF,EAAM,MAAM,GAChD,IAAImB,GACI;AAAA,wBACWA,EAAG,MAAM,+BAA+BA,EAAG,IAAI;AAAA,sCACjCd,EAAWc,EAAG,IAAI,CAAC;AAAA,yCAChBA,EAAG,MAAM;AAAA,cAE7C,EACA,KAAK,EAAE,EAEVH,EAAY,UAAYE,EACxBR,EAAiBV,EAAM,WAAW,KAAMA,EAAM,WAAW,OAAO,CAClE,CChBe,MAAMoB,CAAW,CAK9B,YAAYR,EAAU,EAAG,CAJzBS,EAAA,gBACAA,EAAA,aACAA,EAAA,gBAGM,OAAO,WAAW,oBAAoB,EAAE,QAC1C,KAAK,QAAU,GAEf,KAAK,QAAU,EAEjB,KAAK,KAAO,EACZ,KAAK,QAAUT,EAEfF,EAAiB,KAAK,KAAM,KAAK,OAAO,CACzC,CAED,SAAU,CACR,OAAO,KAAK,IACb,CAED,WAAWE,EAAS,CAClB,KAAK,QAAUA,CAChB,CAED,MAAO,CACD,KAAK,KAAO,KAAK,SACnB,KAAK,OAEPF,EAAiB,KAAK,KAAM,KAAK,OAAO,EACxCO,GACD,CAED,MAAO,CACD,KAAK,KAAO,GACd,KAAK,OAEPP,EAAiB,KAAK,KAAM,KAAK,OAAO,EACxCO,GACD,CAED,OAAQ,CACN,KAAK,KAAO,EACZP,EAAiB,KAAK,KAAM,KAAK,OAAO,EACxCO,GACD,CAED,MAAO,CACL,KAAK,KAAO,KAAK,QACjBP,EAAiB,KAAK,KAAM,KAAK,OAAO,EACxCO,GACD,CACH,CCnDO,SAASK,EAAqBC,EAAgBC,EAAa,CAChED,EAAe,iBAAiB,QAASE,GAAS,CAChD,MAAMC,EAAMD,EAAM,OAAO,QAAQ,mBAAmB,EAC/CC,IAEL1B,EAAM,WAAa,IAAIoB,EACvB,QAAQ,IAAIpB,EAAM,UAAU,EAE5B,SACG,iBAAiB,mBAAmB,EACpC,QAAQ2B,GAAQA,EAAK,UAAU,OAAO,QAAQ,CAAC,EAClDD,EAAI,UAAU,IAAI,QAAQ,EAC1B1B,EAAM,OAAS0B,EAAI,QAAQ,OAC3BT,IACJ,CAAG,CACH,CCjBO,SAASW,GAAuB,CACrC,MAAMC,EAAc,SAAS,cAAc,0BAA0B,EAC/DC,EAAa,SAAS,cAAc,6BAA6B,EACjEC,EAAa,SAAS,cAAc,yBAAyB,EAC7DC,EAAa,SAAS,cAAc,yBAAyB,EAEnEH,EAAY,iBAAiB,QAAS,IAAM7B,EAAM,WAAW,MAAK,CAAE,EACpE8B,EAAW,iBAAiB,QAAS,IAAM9B,EAAM,WAAW,KAAI,CAAE,EAClE+B,EAAW,iBAAiB,QAAS,IAAM/B,EAAM,WAAW,KAAI,CAAE,EAClEgC,EAAW,iBAAiB,QAAS,IAAMhC,EAAM,WAAW,KAAI,CAAE,CACpE,CCNA,eAAeiC,GAAe,CAC5B,MAAMV,EAAiB,SAAS,cAAc,mBAAmB,EAC7C,SAAS,cAAc,eAAe,EAC1DD,EAAqBC,CAA2B,EAEhDvB,EAAM,WAAa,IAAIoB,EACvBH,EAAuB,EAEvBW,GACF,CAEAK,EAAc"}