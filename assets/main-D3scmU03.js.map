{"version":3,"file":"main-D3scmU03.js","sources":["../../src/state/state.js","../../src/api/your-energy-api.js","../../src/utility/capitalize.js","../../src/render/render-pagination.js","../../src/render/render-exercises.js","../../src/handlers/favorites-handler.js","../../src/render/render-favorites.js","../../src/render/render-filters.js","../../src/utility/pagination.js","../../src/handlers/filter-tabs-handler.js","../../src/handlers/pagination-handler.js","../../src/handlers/menu-handler.js","../../src/handlers/filter-handler.js","../../src/render/render-quote.js","../../src/utility/set-quote.js","../../src/utility/email-validator.js","../../src/handlers/subscription-form-handler.js","../../src/handlers/search-handler.js","../../src/render/render-exercise-details.js","../../src/handlers/favorites-buttons-handler.js","../../src/render/render-rating-form.js","../../src/handlers/modal-handler.js","../../src/handlers/exercise-details-handler.js","../../src/main.js"],"sourcesContent":["export const state = {\n  filter: 'Muscles',\n  filterValue: '',\n  pagination: null,\n};\n","import axios from 'axios';\nimport { state } from '../state/state';\nimport iziToast from 'izitoast';\n\naxios.defaults.baseURL = 'https://your-energy.b.goit.study/api';\n\nexport async function getContentByFilter() {\n  const res = await axios.get(\n    `/filters?filter=${state.filter}&page=${state.pagination.page}&limit=${state.pagination.perPage}`\n  );\n  if (state.pagination.page === 1) {\n    state.pagination.setMaxPage(res.data.totalPages);\n  }\n  return res.data.results;\n}\n\nexport async function getExercises(keyword = '') {\n  const params = new URLSearchParams({\n    page: state.pagination.page,\n    limit: state.pagination.perPage,\n  });\n\n  if (keyword != '') {\n    params.set('keyword', keyword);\n  }\n\n  switch (state.filter) {\n    case 'Muscles':\n      params.set('muscles', state.filterValue);\n      break;\n    case 'Body parts':\n      params.set('bodypart', state.filterValue);\n      break;\n    case 'Equipment':\n      params.set('equipment', state.filterValue);\n  }\n\n  const res = await axios.get(`/exercises?${params}`);\n  if (state.pagination.page === 1) {\n    state.pagination.setMaxPage(res.data.totalPages);\n  }\n  return res.data.results;\n}\n\nexport async function getExercise(id) {\n  const res = await axios.get(`/exercises/${id}`);\n  return res.data;\n}\n\nexport async function getQuote() {\n  const res = await axios.get('/quote');\n  return res.data;\n}\n\nexport async function subscribe(email) {\n  try {\n    await axios.post('/subscription', { email: email });\n    iziToast.success({\n      title: 'Success',\n      message: 'You are now subscribed',\n      position: 'bottomCenter',\n    });\n  } catch (e) {\n    iziToast.error({\n      title: 'Error',\n      message: \"Couldn't subscribe. Email might be already registered\",\n      position: 'bottomCenter',\n    });\n  }\n}\n\nexport async function patchReview(id, req) {\n  await axios.patch(`/exercises/${id}/rating`, req);\n}\n","export function capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n","const paginationDiv = document.querySelector('.pagination');\nconst paginationPagesList = document.querySelector('.pagination-pages');\nconst paginationBackButtons = document.querySelector(\n  '.pagination-back-wrapper'\n);\nconst paginationNextButtons = document.querySelector(\n  '.pagination-next-wrapper'\n);\n\nexport function renderPagination(curPage, maxPage) {\n  if (maxPage === 1) {\n    paginationDiv.style.display = 'none';\n  } else {\n    paginationDiv.style.display = 'flex';\n  }\n\n  if (curPage === 1) {\n    paginationBackButtons.style.opacity = '20%';\n  } else {\n    paginationBackButtons.style.opacity = '100%';\n  }\n\n  if (curPage === maxPage) {\n    paginationNextButtons.style.opacity = '20%';\n  } else {\n    paginationNextButtons.style.opacity = '100%';\n  }\n\n  let pageNumbers = [];\n  for (let i = curPage - 2; i <= curPage + 2; i++) {\n    if (i > 0 && i <= maxPage) {\n      pageNumbers.push(i);\n    }\n  }\n  let markup = pageNumbers\n    .map(pageNumber => {\n      return `<li class=\"pagination-page-number ${pageNumber == curPage ? 'current' : ''}\">${pageNumber}</li>`;\n    })\n    .join('');\n\n  if (curPage < maxPage - 2) {\n    markup += '<li class=\"pagination-continues\">...</li>';\n  }\n\n  paginationPagesList.innerHTML = markup;\n}\n","import { getExercises } from '../api/your-energy-api';\nimport { capitalize } from '../utility/capitalize';\nimport { state } from '../state/state';\nimport { renderPagination } from './render-pagination';\nconst contentList = document.querySelector('.content-list');\n\nexport async function renderExercises(keyword = '') {\n  const data = (await getExercises(keyword))\n    .map(el => {\n      return `\n      <li class=\"exercise\">\n        <div class=\"exercise-line-wrapper\">\n            <span class=\"workout\">workout</span>\n            <div class=\"rating\">\n                <span class=\"rating-value\">${el.rating.toFixed(1)}</span>\n                <svg class=\"star-icon\" width=\"18\" height=\"18\">\n                    <use href=\"icon-pack/star-icon.svg\"></use>\n                </svg>\n            </div>\n            <button class=\"start-button\" data-id=\"${el._id}\" aria-label=\"Start exercise\">\n                Start\n                <svg class=\"start-arrow\" width=\"16\" height=\"16\">\n                    <use href=\"icon-pack/start-arrow.svg\"></use>\n                </svg>\n            </button>\n        </div>\n        <div class=\"exercise-line-wrapper\">\n            <div class=\"exercise-icon-wrapper\">\n                <svg class=\"exercise-icon\" width=\"24\" height=\"24\">\n                    <use href=\"icon-pack/running-icon.svg\"></use>\n                </svg>\n            </div>\n            <p class=\"exercise-name\">${capitalize(el.name)}</p>\n        </div>\n        <div class=\"exercise-line-wrapper\">\n            <p class=\"exercise-info\">Burned calories: <span class=\"exercise-info-value\">${el.burnedCalories} / ${el.time}</span></p>\n            <p class=\"exercise-info\">Body part: <span class=\"exercise-info-value\">${capitalize(el.bodyPart)}</span></p>\n            <p class=\"exercise-info\">Target: <span class=\"exercise-info-value\">${capitalize(el.target)}</span></p>\n        </div>\n      </li>`;\n    })\n    .join('');\n\n  contentList.innerHTML = data;\n  renderPagination(state.pagination.page, state.pagination.maxPage);\n}\n","import { getExercise } from '../api/your-energy-api';\nimport { renderFavorites } from '../render/render-favorites';\nimport { state } from '../state/state';\n\nconst clearOutdatedLocalStorage = function () {\n  const version = localStorage.getItem('version');\n\n  if (version === null) {\n    localStorage.clear();\n    localStorage.setItem('version', '1.0.1');\n  }\n};\n\nclearOutdatedLocalStorage();\n\nlet cacheFavoriteIds;\n\nrebuildCache();\n\nexport function getFavorites() {\n  const favorites = JSON.parse(localStorage.getItem('favorites')) ?? [];\n  return favorites;\n}\n\nexport async function putFavorite(newExerciseId) {\n  const favorites = getFavorites();\n  const newFavorites = JSON.stringify([...favorites, newExerciseId]);\n  localStorage.setItem('favorites', newFavorites);\n  putCache(newExerciseId);\n}\n\nexport function removeFavorite(exerciseId) {\n  const favorites = getFavorites();\n  const newFavorites = JSON.stringify(\n    favorites.filter(item => item != exerciseId)\n  );\n  localStorage.setItem('favorites', newFavorites);\n  popCache(exerciseId);\n  if (state.pagination.purpose === 'favorites') {\n    state.pagination.updateSize(getFavorites().length);\n    renderFavorites();\n  }\n}\n\nexport function isFavorite(exerciseId) {\n  return cacheFavoriteIds.has(exerciseId);\n}\n\nfunction rebuildCache() {\n  cacheFavoriteIds = new Set(getFavorites());\n}\n\nfunction putCache(exerciseId) {\n  cacheFavoriteIds.add(exerciseId);\n}\n\nfunction popCache(exerciseId) {\n  cacheFavoriteIds.delete(exerciseId);\n}\n","import { getFavorites } from '../handlers/favorites-handler';\nimport { capitalize } from '../utility/capitalize';\nimport { state } from '../state/state';\nimport { getExercise } from '../api/your-energy-api';\n\nconst favoriteList = document.querySelector('.favorite-exercises-list');\nconst pagination = document.querySelector('.pagination');\n\nexport async function renderFavorites() {\n  const favoriteExercises = getFavorites();\n  if (favoriteExercises.length === 0) {\n    favoriteList.innerHTML = `\n    <li class=\"favorites-placeholder\">\n        It appears that you haven't added any exercises to your\n        favorites yet. To get started, you can add exercises that you\n        like to your favorites for easier access in the future.\n    </li>`;\n\n    pagination.style.display = 'none';\n    return;\n  }\n\n  const start = (state.pagination.page - 1) * state.pagination.perPage;\n  const end = state.pagination.page * state.pagination.perPage;\n  const pageIds = favoriteExercises.slice(start, end);\n\n  const items = await Promise.all(\n    pageIds.map(async exerciseId => {\n      const el = await getExercise(exerciseId);\n      return `\n          <li class=\"exercise\">\n            <div class=\"exercise-line-wrapper\">\n                <span class=\"workout\">workout</span>\n                <div class=\"rating\">\n                    <button type=\"button\" class=\"remove-favorite-quick-btn\" data-id=\"${el._id}\">\n                        <svg class=\"bin-icon\" width=\"18\" height=\"18\">\n                            <use href=\"button-icons/delete.svg\"></use>\n                        </svg>\n                    </button>\n                </div>\n                <button class=\"start-button\" data-id=\"${el._id}\" aria-label=\"Start exercise\">\n                    Start\n                    <svg class=\"start-arrow\" width=\"16\" height=\"16\">\n                        <use href=\"icon-pack/start-arrow.svg\"></use>\n                    </svg>\n                </button>\n            </div>\n            <div class=\"exercise-line-wrapper\">\n                <div class=\"exercise-icon-wrapper\">\n                    <svg class=\"exercise-icon\" width=\"24\" height=\"24\">\n                        <use href=\"icon-pack/running-icon.svg\"></use>\n                    </svg>\n                </div>\n                <p class=\"exercise-name\">${capitalize(el.name)}</p>\n            </div>\n            <div class=\"exercise-line-wrapper\">\n                <p class=\"exercise-info\">Burned calories: <span class=\"exercise-info-value\">${el.burnedCalories} / ${el.time}</span></p>\n                <p class=\"exercise-info\">Body part: <span class=\"exercise-info-value\">${capitalize(el.bodyPart)}</span></p>\n                <p class=\"exercise-info\">Target: <span class=\"exercise-info-value\">${capitalize(el.target)}</span></p>\n            </div>\n          </li>`;\n    })\n  );\n\n  favoriteList.innerHTML = items.join('');\n}\n","import { getContentByFilter } from '../api/your-energy-api';\nimport { capitalize } from '../utility/capitalize';\nimport { state } from '../state/state';\nimport { renderPagination } from './render-pagination';\nconst contentList = document.querySelector('.content-list');\n\nexport async function renderFilters() {\n  const data = (await getContentByFilter(state.filter))\n    .map(el => {\n      return `<li class=\"filter-tile\" data-value=\"${el.name}\" aria-label=\"${el.name}\">\n            <img src=\"${el.imgURL}\" class=\"filter-image\" alt=\"${el.name}\" loading=\"lazy\"/>\n            <h3 class=\"filter-name\">${capitalize(el.name)}</h3>\n            <p class=\"filter-category\">${el.filter}</p>\n        </li>`;\n    })\n    .join('');\n\n  contentList.innerHTML = data;\n  renderPagination(state.pagination.page, state.pagination.maxPage);\n}\n","import { renderExercises } from '../render/render-exercises';\nimport { renderFavorites } from '../render/render-favorites';\nimport { renderFilters } from '../render/render-filters';\nimport { renderPagination } from '../render/render-pagination';\n\nexport default class Pagination {\n  perPage;\n  page;\n  maxPage;\n  purpose;\n\n  constructor(purpose, numberOfElements = null) {\n    this.purpose = purpose;\n    this.page = 1;\n\n    if (this.purpose === 'filters') {\n      if (window.matchMedia('(min-width: 768px)').matches) {\n        this.perPage = 12;\n      } else {\n        this.perPage = 9;\n      }\n    } else if (\n      this.purpose === 'favorites' &&\n      window.matchMedia('(min-width: 1440px)').matches\n    ) {\n      this.perPage = 200;\n    } else if (this.purpose === 'exercises' || 'favorites') {\n      if (window.matchMedia('(min-width: 768px)').matches) {\n        this.perPage = 10;\n      } else {\n        this.perPage = 8;\n      }\n    }\n    if (numberOfElements) {\n      this.updateSize(numberOfElements);\n    } else {\n      this.maxPage = 1;\n    }\n\n    renderPagination(this.page, this.maxPage);\n  }\n\n  getPage() {\n    return this.page;\n  }\n\n  setMaxPage(maxPage) {\n    this.maxPage = maxPage;\n  }\n\n  updateSize(numberOfElements) {\n    this.maxPage = Math.ceil(numberOfElements / this.perPage);\n  }\n\n  choosePage(pageNumber) {\n    this.page = pageNumber;\n\n    renderPagination(this.page, this.maxPage);\n    if (this.purpose === 'filters') {\n      renderFilters();\n    } else if (this.purpose === 'exercises') {\n      renderExercises();\n    } else if (this.purpose === 'favorites') {\n      renderFavorites();\n    }\n  }\n\n  next() {\n    if (this.page < this.maxPage) {\n      this.page++;\n    }\n\n    renderPagination(this.page, this.maxPage);\n    if (this.purpose === 'filters') {\n      renderFilters();\n    } else if (this.purpose === 'exercises') {\n      renderExercises();\n    } else if (this.purpose === 'favorites') {\n      renderFavorites();\n    }\n  }\n\n  back() {\n    if (this.page > 1) {\n      this.page--;\n    }\n    renderPagination(this.page, this.maxPage);\n    if (this.purpose === 'filters') {\n      renderFilters();\n    } else if (this.purpose === 'exercises') {\n      renderExercises();\n    } else if (this.purpose === 'favorites') {\n      renderFavorites();\n    }\n  }\n\n  reset() {\n    this.page = 1;\n    renderPagination(this.page, this.maxPage);\n    if (this.purpose === 'filters') {\n      renderFilters();\n    } else if (this.purpose === 'exercises') {\n      renderExercises();\n    } else if (this.purpose === 'favorites') {\n      renderFavorites();\n    }\n  }\n\n  last() {\n    this.page = this.maxPage;\n    renderPagination(this.page, this.maxPage);\n    if (this.purpose === 'filters') {\n      renderFilters();\n    } else if (this.purpose === 'exercises') {\n      renderExercises();\n    } else if (this.purpose === 'favorites') {\n      renderFavorites();\n    }\n  }\n}\n","import { renderFilters } from '../render/render-filters';\nimport { state } from '../state/state';\nimport Pagination from '../utility/pagination';\nconst mainHeading = document.querySelector('.main-heading');\nconst categoryHeading = document.querySelector('.category-heading');\nconst exercisesSearch = document.querySelector('.exercises-search');\n\nexport function addFilterTabsHandler(filterTabsList) {\n  filterTabsList.addEventListener('click', event => {\n    const btn = event.target.closest('.filter-tabs-item');\n    if (!btn) return;\n\n    state.pagination = new Pagination('filters');\n    mainHeading.innerHTML = 'Exercises';\n    categoryHeading.style.display = 'none';\n    exercisesSearch.style.display = 'none';\n\n    document\n      .querySelectorAll('.filter-tabs-item')\n      .forEach(item => item.classList.remove('active'));\n    btn.classList.add('active');\n\n    state.filter = btn.dataset.filter;\n    renderFilters();\n  });\n}\n","import { state } from '../state/state';\n\nexport function addPaginationHandler() {\n  const pagFirstBut = document.querySelector('.pagination-first-button');\n  const pagPrevBut = document.querySelector('.pagination-previous-button');\n  const pagNextBut = document.querySelector('.pagination-next-button');\n  const pagLastBut = document.querySelector('.pagination-last-button');\n  const pagPages = document.querySelector('.pagination-pages');\n\n  const choosePage = function (event) {\n    const pageNumber = event.target.closest('.pagination-page-number');\n    if (!pageNumber) return;\n\n    state.pagination.choosePage(Number(pageNumber.innerHTML));\n  };\n\n  pagFirstBut.addEventListener('click', () => state.pagination.reset());\n  pagPrevBut.addEventListener('click', () => state.pagination.back());\n  pagNextBut.addEventListener('click', () => state.pagination.next());\n  pagLastBut.addEventListener('click', () => state.pagination.last());\n  pagPages.addEventListener('click', choosePage);\n}\n","const burgerButton = document.querySelector('.nav-toggle');\nconst closeButton = document.querySelector('.nav-close');\nconst mobileMenuBackdrop = document.querySelector('.mobile-menu-backdrop');\n\nexport function addMenuHandlers() {\n  burgerButton.addEventListener('click', () => {\n    mobileMenuBackdrop.classList.add('opened');\n    addMobileMenuListeners();\n  });\n}\n\nconst closeMobileMenu = function () {\n  mobileMenuBackdrop.classList.remove('opened');\n  removeMobileMenuListeners();\n};\n\nconst onEscCloseMobileMenu = function (event) {\n  if (event.key === 'Escape') {\n    closeMobileMenu();\n  }\n};\n\nconst addMobileMenuListeners = function () {\n  closeButton.addEventListener('click', closeMobileMenu);\n  mobileMenuBackdrop.addEventListener('click', closeMobileMenu);\n  document.addEventListener('keydown', onEscCloseMobileMenu);\n};\n\nconst removeMobileMenuListeners = function () {\n  closeButton.removeEventListener('click', closeMobileMenu);\n  mobileMenuBackdrop.removeEventListener('click', closeMobileMenu);\n  document.removeEventListener('keydown', onEscCloseMobileMenu);\n};\n","import { renderExercises } from '../render/render-exercises';\nimport { state } from '../state/state';\nimport Pagination from '../utility/pagination';\nimport { capitalize } from '../utility/capitalize';\nconst mainHeading = document.querySelector('.main-heading');\nconst categoryHeading = document.querySelector('.category-heading');\nconst exercisesSearch = document.querySelector('.exercises-search');\n\nexport function addFilterHandlers(contentList) {\n  contentList.addEventListener('click', event => {\n    const filterTile = event.target.closest('.filter-tile');\n    if (!filterTile) return;\n\n    state.pagination = new Pagination('exercises');\n    mainHeading.innerHTML = 'Exercises /';\n    categoryHeading.innerHTML = capitalize(filterTile.dataset.value);\n    categoryHeading.style.display = 'block';\n    exercisesSearch.style.display = 'flex';\n\n    state.filterValue = filterTile.dataset.value;\n    renderExercises();\n  });\n}\n","const motivationText = document.querySelector('.motivation-text');\nconst motivationAuthor = document.querySelector('.motivation-author');\n\nexport function renderQuote(author, quote) {\n  motivationText.innerHTML = quote;\n  motivationAuthor.innerHTML = author;\n}\n","import { getQuote } from '../api/your-energy-api';\nimport { renderQuote } from '../render/render-quote';\n\nexport async function setQuote() {\n  let quote = JSON.parse(localStorage.getItem('quote'));\n  const today = new Date().getDate();\n\n  if (!quote || quote.date != today) {\n    const dailyQuote = await getQuote();\n    localStorage.setItem(\n      'quote',\n      JSON.stringify({ ...dailyQuote, date: today })\n    );\n    quote = JSON.parse(localStorage.getItem('quote'));\n  }\n\n  renderQuote(quote.author, quote.quote);\n}\n","export function isValidEmail(email) {\n  const emailPattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n  return emailPattern.test(email);\n}\n","import iziToast from 'izitoast';\nimport { isValidEmail } from '../utility/email-validator';\nimport { subscribe } from '../api/your-energy-api';\n\nexport function addSubscriptionFormHandler(subscriptionForm) {\n  subscriptionForm.addEventListener('submit', event => {\n    try {\n      event.preventDefault();\n      const subscriptionEmail = document.getElementById('subscription-email');\n      if (!isValidEmail(subscriptionEmail.value)) throw new Error();\n      subscribe(subscriptionEmail.value);\n      subscriptionEmail.value = '';\n    } catch (e) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Invalid email',\n        position: 'bottomCenter',\n      });\n    }\n  });\n}\n","import { renderExercises } from '../render/render-exercises';\nimport Pagination from '../utility/pagination';\nimport { state } from '../state/state';\n\nconst searchInput = document.getElementById('exercises-search');\nconst searchResetBtn = document.querySelector('.search-delete-button');\n\nexport function addSearchHandler(searchForm) {\n  searchForm.addEventListener('submit', event => {\n    event.preventDefault();\n\n    state.pagination = new Pagination('exercises');\n    if (searchInput.value != '') {\n      renderExercises(searchInput.value);\n    } else {\n      renderExercises();\n    }\n  });\n  searchForm.addEventListener('input', event => {\n    if (event.target.value != '') {\n      searchResetBtn.style.display = 'block';\n    } else {\n      searchResetBtn.style.display = 'none';\n    }\n  });\n  searchForm.addEventListener('reset', () => {\n    searchResetBtn.style.display = 'none';\n    state.pagination = new Pagination('exercises');\n    renderExercises();\n  });\n}\n","import { getExercise } from '../api/your-energy-api';\nimport { isFavorite } from '../handlers/favorites-handler';\nimport { capitalize } from '../utility/capitalize';\n\nconst modalBackdrop = document.querySelector('.modal-backdrop');\nconst modalBody = document.querySelector('.modal-body');\n\nexport async function renderExerciseDetails(id) {\n  const ex = await getExercise(id);\n  modalBody.innerHTML = `\n    <div class=\"exercise-details-wrapper\">\n        <img src=\"${ex.gifUrl}\" class=\"exercise-gif\" alt=\"Gif example of how to do the exercise\" width=\"258\" height=\"258\"/>\n        <div class=\"exercise-details-container\">\n            <div class=\"exercise-header\">\n                <h3 class=\"exercise-details-title\">${capitalize(ex.name)}</h3>\n                <div class=\"exercise-details-rating\">\n                    <span class=\"exercise-details-rating-value\">${ex.rating.toFixed(1)}</span>\n                    <div class=\"rating-stars-container\">\n                        \n                    </div>\n                </div>\n            </div>\n            <ul class=\"quick-info-list\">\n                <li class=\"quick-info-item\">\n                    <p class=\"quick-info-parameter\">Target</p>\n                    <p class=\"quick-info-value\">${capitalize(ex.target)}</p>\n                </li>\n                <li class=\"quick-info-item\">\n                    <p class=\"quick-info-parameter\">Body Part</p>\n                    <p class=\"quick-info-value\">${capitalize(ex.bodyPart)}</p>\n                </li>\n                <li class=\"quick-info-item\">\n                    <p class=\"quick-info-parameter\">Equipment</p>\n                    <p class=\"quick-info-value\">${capitalize(ex.equipment)}</p>\n                </li>\n                <li class=\"quick-info-item\">\n                    <p class=\"quick-info-parameter\">Popular</p>\n                    <p class=\"quick-info-value\">${ex.popularity}</p>\n                </li>\n                <li class=\"quick-info-item\">\n                    <p class=\"quick-info-parameter\">Burned Calories</p>\n                    <p class=\"quick-info-value\">${ex.burnedCalories}/${ex.time} min</p>\n                </li>\n            </ul>\n            <p class=\"exercise-detailed-description\">${ex.description}</p>\n\n            <div class=\"exercise-action-buttons\">\n                ${isFavorite(ex._id) ? '<button type=\"button\" class=\"remove-from-favorites-btn\" data-id=\"' + ex._id + '\" aria-label=\"Remove from favorites\">Remove from<svg class=\"bin-icon\" width=\"20\" height=\"20\"><use href=\"button-icons/delete.svg\"></use></svg></button>' : '<button type=\"button\" class=\"add-to-favorites-btn\" data-id=\"' + ex._id + '\" aria-label=\"Add to favorites\">Add to favorites<svg class=\"like-icon\" width=\"20\" height=\"20\"><use href=\"button-icons/like.svg\"></use></svg></button>'}\n                <button type=\"button\" class=\"give-rating-btn\" data-id=\"${ex._id}\" aria-label=\"Give exercise a rating\">\n                    Give a rating\n                </button>\n            </div>\n        </div>\n    </div>\n    `;\n\n  const rating = ex.rating;\n  const starsContainer = modalBody.querySelector('.rating-stars-container');\n\n  for (let i = 1; i <= 5; i++) {\n    const star = document.createElement('span');\n    star.classList.add('star', 'filled');\n    star.innerHTML = 'â˜…';\n\n    let fill = 0;\n    if (rating >= i) {\n      fill = 100;\n    } else if (rating > i - 1) {\n      fill = (rating - (i - 1)) * 100;\n    } else {\n      fill = 0;\n    }\n\n    star.style.setProperty('--percent', `${fill}%`);\n    starsContainer.appendChild(star);\n  }\n  modalBackdrop.classList.remove('is-hidden');\n}\n","import { putFavorite, removeFavorite } from './favorites-handler';\n\nconst modalBody = document.querySelector('.modal-body');\n\nconst onClickFavoritesButtons = function (event) {\n  const addFavBtn = event.target.closest('.add-to-favorites-btn');\n  const removeFavBtn = event.target.closest('.remove-from-favorites-btn');\n\n  if (addFavBtn) {\n    const exerciseId = addFavBtn.dataset.id;\n    putFavorite(exerciseId);\n    const removeButtonHTML = `\n        <button type=\"button\" class=\"remove-from-favorites-btn\" aria-label=\"Remove from favorites\" data-id=\"${exerciseId}\">\n            Remove from\n            <svg class=\"bin-icon\" width=\"20\" height=\"20\">\n                <use href=\"button-icons/delete.svg\"></use>\n            </svg>\n        </button>\n      `;\n    const removeButtonElement = new DOMParser().parseFromString(\n      removeButtonHTML,\n      'text/html'\n    ).body.firstChild;\n    addFavBtn.replaceWith(removeButtonElement);\n  } else if (removeFavBtn) {\n    const exerciseId = removeFavBtn.dataset.id;\n    removeFavorite(exerciseId);\n    const addButtonHTML = `\n        <button type=\"button\" class=\"add-to-favorites-btn\" aria-label=\"Add to favorites\" data-id=\"${exerciseId}\">\n            Add to favorites\n            <svg class=\"like-icon\" width=\"20\" height=\"20\">\n                <use href=\"button-icons/like.svg\"></use>\n            </svg>\n        </button>\n      `;\n    const addButtonElement = new DOMParser().parseFromString(\n      addButtonHTML,\n      'text/html'\n    ).body.firstChild;\n    removeFavBtn.replaceWith(addButtonElement);\n  }\n};\n\nexport function addFavoritesButtonsHandlers() {\n  modalBody.addEventListener('click', onClickFavoritesButtons);\n}\n\nexport function removeFavoritesButtonsHandlers() {\n  modalBody.removeEventListener('click', onClickFavoritesButtons);\n}\n","const modalBody = document.querySelector('.modal-body');\n\nexport function renderRatingForm(id) {\n  modalBody.innerHTML = `\n    <form id=\"rating-form\" data-id=\"${id}\">\n        <div class=\"rating-section\">\n            <label class=\"rating-label\" for=\"stars-fieldset\">Rating</label>\n            <div class=\"rating-line-wrapper\">\n                <span class=\"rating-form-value\">0.0</span>\n                <fieldset id=\"stars-fieldset\" name=\"stars-fieldset\">\n                    <span class=\"star-cb-group\">\n                        <input type=\"radio\" id=\"rating-5\" name=\"rating\" value=\"5.0\" /><label for=\"rating-5\">5</label>\n                        <input type=\"radio\" id=\"rating-4\" name=\"rating\" value=\"4.0\" /><label for=\"rating-4\">4</label>\n                        <input type=\"radio\" id=\"rating-3\" name=\"rating\" value=\"3.0\" /><label for=\"rating-3\">3</label>\n                        <input type=\"radio\" id=\"rating-2\" name=\"rating\" value=\"2.0\" /><label for=\"rating-2\">2</label>\n                        <input type=\"radio\" id=\"rating-1\" name=\"rating\" value=\"1.0\" /><label for=\"rating-1\">1</label>\n                    </span>\n                </fieldset>\n            </div>\n        </div>\n        <div class=\"rating-text-section\">\n            <input type=\"email\" id=\"rating-email-input\" placeholder=\"Email\" required/>\n            <textarea id=\"rating-review-text\" placeholder=\"Your comment\"></textarea>\n        </div>\n        <button type=\"submit\" id=\"submit-rating-button\" aria-label=\"Submit your review about the exercise\">Send</button>\n    </form>\n    `;\n}\n","import iziToast from 'izitoast';\nimport { patchReview } from '../api/your-energy-api';\nimport { renderRatingForm } from '../render/render-rating-form';\nimport { isValidEmail } from '../utility/email-validator';\nimport { renderExerciseDetails } from '../render/render-exercise-details';\nimport { removeFavoritesButtonsHandlers } from './favorites-buttons-handler';\n\nconst modalBackdrop = document.querySelector('.modal-backdrop');\nconst modalCloseBtn = document.querySelector('.modal-close-btn');\nconst modalBody = document.querySelector('.modal-body');\nconst header = document.querySelector('header');\nconst body = document.querySelector('body');\n\nconst modalBodyStopPropagation = function (event) {\n  event.stopPropagation();\n};\n\nconst closeModalWindow = function () {\n  const form = document.querySelector('#rating-form');\n  if (!form) {\n    modalBackdrop.classList.add('is-hidden');\n    body.classList.remove('modal-open');\n    header.style.visibility = 'visible';\n    removeFavoritesButtonsHandlers();\n    removeModalHandlers();\n  } else {\n    removeRatingFormHandlers();\n    renderExerciseDetails(form.dataset.id);\n  }\n};\n\nconst onEscCloseModalWindow = function (event) {\n  if (event.key === 'Escape') {\n    closeModalWindow();\n  }\n};\n\nconst onClickGiveRating = function (event) {\n  const btn = event.target.closest('.give-rating-btn');\n  if (!btn) return;\n\n  const exerciseId = btn.dataset.id;\n  addRatingFormHandlers();\n  renderRatingForm(exerciseId);\n};\n\nconst onSubmitRatingForm = function (event) {\n  try {\n    event.preventDefault();\n    const form = event.target.closest('#rating-form');\n    if (!form) return;\n\n    const rate = Number(form.querySelector('.rating-form-value').innerHTML);\n    const email = form.querySelector('#rating-email-input').value;\n    const review = form.querySelector('#rating-review-text').value;\n    const req = { rate, email, review };\n\n    if (!isValidEmail(email)) throw new Error('Invalid email');\n    if (rate == 0) throw new Error(\"Rating can't be 0\");\n\n    const exerciseId = form.dataset.id;\n    patchReview(exerciseId, req);\n    renderExerciseDetails(exerciseId);\n\n    iziToast.success({\n      title: 'Success',\n      message: 'Posted a review',\n      position: 'bottomCenter',\n    });\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: error.message,\n      position: 'bottomCenter',\n    });\n  }\n};\n\nconst onChangeRating = function (event) {\n  if (event.target.type === 'radio') {\n    const rating = document.querySelector('.rating-form-value');\n    rating.innerHTML = event.target.value;\n  }\n};\n\nexport function addModalHandlers() {\n  modalBody.addEventListener('click', modalBodyStopPropagation);\n  modalBackdrop.addEventListener('click', closeModalWindow);\n  document.addEventListener('keydown', onEscCloseModalWindow);\n  modalCloseBtn.addEventListener('click', closeModalWindow);\n\n  modalBody.addEventListener('click', onClickGiveRating);\n}\n\nexport function addRatingFormHandlers() {\n  modalBody.addEventListener('submit', onSubmitRatingForm);\n  modalBody.addEventListener('change', onChangeRating);\n}\n\nexport function removeModalHandlers() {\n  modalBody.removeEventListener('click', modalBodyStopPropagation);\n  modalBackdrop.removeEventListener('click', closeModalWindow);\n  document.removeEventListener('keydown', onEscCloseModalWindow);\n  modalCloseBtn.removeEventListener('click', closeModalWindow);\n\n  modalBody.removeEventListener('click', onClickGiveRating);\n}\n\nexport function removeRatingFormHandlers() {\n  modalBody.removeEventListener('submit', onSubmitRatingForm);\n  modalBody.removeEventListener('change', onChangeRating);\n}\n","import { renderExerciseDetails } from '../render/render-exercise-details';\nimport { renderFavorites } from '../render/render-favorites';\nimport { addFavoritesButtonsHandlers } from './favorites-buttons-handler';\nimport { removeFavorite } from './favorites-handler';\nimport { addModalHandlers } from './modal-handler';\n\nconst header = document.querySelector('header');\nconst body = document.querySelector('body');\n\nexport function addExerciseDetailsHandler(contentList) {\n  contentList.addEventListener('click', event => {\n    const quickRemoveBtn = event.target.closest('.remove-favorite-quick-btn');\n    const startBtn = event.target.closest('.start-button');\n\n    if (startBtn) {\n      header.style.visibility = 'hidden';\n      body.classList.add('modal-open');\n      addModalHandlers();\n      addFavoritesButtonsHandlers();\n      renderExerciseDetails(startBtn.dataset.id);\n    } else if (quickRemoveBtn) {\n      removeFavorite(quickRemoveBtn.dataset.id);\n      renderFavorites();\n    }\n  });\n}\n","import Pagination from './utility/pagination.js';\nimport { addFilterTabsHandler } from './handlers/filter-tabs-handler.js';\nimport { renderFilters } from './render/render-filters.js';\nimport { addPaginationHandler } from './handlers/pagination-handler.js';\nimport { state } from './state/state.js';\nimport { addMenuHandlers } from './handlers/menu-handler.js';\nimport { addFilterHandlers } from './handlers/filter-handler.js';\nimport { setQuote } from './utility/set-quote.js';\nimport { addSubscriptionFormHandler } from './handlers/subscription-form-handler.js';\nimport { addSearchHandler } from './handlers/search-handler.js';\nimport { addExerciseDetailsHandler } from './handlers/exercise-details-handler.js';\nimport { renderFavorites } from './render/render-favorites.js';\nimport { getFavorites } from './handlers/favorites-handler.js';\n\nfunction initNavigation() {\n  let url = window.location;\n  const navList = document.querySelector('.nav-list');\n  const pathIndex = url.pathname.lastIndexOf('/') + 1;\n  let pageName = url.pathname.slice(pathIndex);\n  pageName = pageName.length > 0 ? pageName : 'index.html';\n\n  navList\n    .querySelector('a[href=\"' + pageName + '\"]')\n    .parentNode.classList.add('active');\n\n  if (pageName === 'index.html') {\n    initHomePage();\n  } else {\n    initFavoritesPage();\n  }\n}\n\nasync function initHomePage() {\n  addMenuHandlers();\n\n  const filterTabsList = document.querySelector('.filter-tabs-list');\n  const contentList = document.querySelector('.content-list');\n  addFilterTabsHandler(filterTabsList);\n\n  const searchForm = document.querySelector('.exercises-search');\n  addSearchHandler(searchForm);\n\n  state.pagination = new Pagination('filters');\n  renderFilters('Muscles');\n  addFilterHandlers(contentList);\n\n  setQuote();\n\n  addPaginationHandler();\n\n  addExerciseDetailsHandler(contentList);\n\n  const subscriptionForm = document.querySelector('.subscription-form');\n  addSubscriptionFormHandler(subscriptionForm);\n}\n\nasync function initFavoritesPage() {\n  addMenuHandlers();\n\n  setQuote();\n\n  state.pagination = new Pagination('favorites', getFavorites().length);\n  addPaginationHandler();\n\n  const contentList = document.querySelector('.favorite-exercises-list');\n  addExerciseDetailsHandler(contentList);\n\n  renderFavorites();\n\n  const subscriptionForm = document.querySelector('.subscription-form');\n  addSubscriptionFormHandler(subscriptionForm);\n}\n\ninitNavigation();\n"],"names":["state","axios","getContentByFilter","res","getExercises","keyword","params","getExercise","id","getQuote","subscribe","email","iziToast","patchReview","req","capitalize","str","paginationDiv","paginationPagesList","paginationBackButtons","paginationNextButtons","renderPagination","curPage","maxPage","pageNumbers","i","markup","pageNumber","contentList","renderExercises","data","el","clearOutdatedLocalStorage","cacheFavoriteIds","rebuildCache","getFavorites","putFavorite","newExerciseId","favorites","newFavorites","putCache","removeFavorite","exerciseId","item","popCache","renderFavorites","isFavorite","favoriteList","pagination","favoriteExercises","start","end","pageIds","items","renderFilters","Pagination","purpose","numberOfElements","__publicField","mainHeading","categoryHeading","exercisesSearch","addFilterTabsHandler","filterTabsList","event","btn","addPaginationHandler","pagFirstBut","pagPrevBut","pagNextBut","pagLastBut","pagPages","choosePage","burgerButton","closeButton","mobileMenuBackdrop","addMenuHandlers","addMobileMenuListeners","closeMobileMenu","removeMobileMenuListeners","onEscCloseMobileMenu","addFilterHandlers","filterTile","motivationText","motivationAuthor","renderQuote","author","quote","setQuote","today","dailyQuote","isValidEmail","addSubscriptionFormHandler","subscriptionForm","subscriptionEmail","searchInput","searchResetBtn","addSearchHandler","searchForm","modalBackdrop","modalBody","renderExerciseDetails","ex","rating","starsContainer","star","fill","onClickFavoritesButtons","addFavBtn","removeFavBtn","removeButtonHTML","removeButtonElement","addButtonHTML","addButtonElement","addFavoritesButtonsHandlers","removeFavoritesButtonsHandlers","renderRatingForm","modalCloseBtn","header","body","modalBodyStopPropagation","closeModalWindow","form","removeRatingFormHandlers","removeModalHandlers","onEscCloseModalWindow","onClickGiveRating","addRatingFormHandlers","onSubmitRatingForm","rate","review","error","onChangeRating","addModalHandlers","addExerciseDetailsHandler","quickRemoveBtn","startBtn","initNavigation","url","navList","pathIndex","pageName","initHomePage","initFavoritesPage"],"mappings":"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"}