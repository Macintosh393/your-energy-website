var S=Object.defineProperty;var w=(e,t,i)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var p=(e,t,i)=>w(e,typeof t!="symbol"?t+"":t,i);import{a as m,i as h}from"./vendor-XJ88ArH8.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();const a={filter:"Muscles",filterValue:"",pagination:null};m.defaults.baseURL="https://your-energy.b.goit.study/api";async function L(){const e=await m.get(`/filters?filter=${a.filter}&page=${a.pagination.page}&limit=${a.pagination.perPage}`);return a.pagination.page===1&&a.pagination.setMaxPage(e.data.totalPages),e.data.results}async function q(e=""){const t=new URLSearchParams({page:a.pagination.page,limit:a.pagination.perPage});switch(e!=""&&t.set("keyword",e),a.filter){case"Muscles":t.set("muscles",a.filterValue);break;case"Body parts":t.set("bodypart",a.filterValue);break;case"Equipment":t.set("equipment",a.filterValue)}const i=await m.get(`/exercises?${t}`);return a.pagination.page===1&&a.pagination.setMaxPage(i.data.totalPages),i.data.results}async function P(){return(await m.get("/quote")).data}async function E(e){try{await m.post("/subscription",{email:e}),h.success({title:"Success",message:"You are now subscribed",position:"bottomCenter"})}catch{h.error({title:"Error",message:"Couldn't subscribe. Email might already registered",position:"bottomCenter"})}}function d(e){return e.charAt(0).toUpperCase()+e.slice(1)}const $=document.querySelector(".pagination-pages"),y=document.querySelector(".pagination-back-wrapper"),v=document.querySelector(".pagination-next-wrapper");function c(e,t){e===1?y.style.opacity="20%":y.style.opacity="100%",e===t?v.style.opacity="20%":v.style.opacity="100%";let i=[];for(let s=e-2;s<=e+2;s++)s>0&&s<=t&&i.push(s);let r=i.map(s=>`<li class="pagination-page-number ${s==e?"current":""}">${s}</li>`).join("");e<t-2&&(r+='<li class="pagination-page-number">...</li>'),$.innerHTML=r}const H=document.querySelector(".content-list");async function o(e=""){const t=(await q(e)).map(i=>`
      <li class="exercise">
        <div class="exercise-line-wrapper">
            <span class="workout">workout</span>
            <div class="rating">
                <span class="rating-value">${i.rating.toFixed(1)}</span>
                <svg class="star-icon" width="18" height="18">
                    <use href="icon-pack/star-icon.svg"></use>
                </svg>
            </div>
            <button class="start-button" data-id="${i._id}" aria-label="Start exercise">
                Start
                <svg class="start-arrow" width="16" height="16">
                    <use href="icon-pack/start-arrow.svg"></use>
                </svg>
            </button>
        </div>
        <div class="exercise-line-wrapper">
            <div class="exercise-icon-wrapper">
                <svg class="exercise-icon" width="24" height="24">
                    <use href="icon-pack/running-icon.svg"></use>
                </svg>
            </div>
            <p class="exercise-name">${d(i.name)}</p>
        </div>
        <div class="exercise-line-wrapper">
            <p class="exercise-info">Burned calories: <span class="exercise-info-value">${i.burnedCalories} / ${i.time}</span></p>
            <p class="exercise-info">Body part: <span class="exercise-info-value">${d(i.bodyPart)}</span></p>
            <p class="exercise-info">Target: <span class="exercise-info-value">${d(i.target)}</span></p>
        </div>
      </li>`).join("");H.innerHTML=t,c(a.pagination.page,a.pagination.maxPage)}const k=document.querySelector(".content-list");async function l(){const e=(await L()).map(t=>`<li class="filter-tile" data-value="${t.name}" aria-label="${t.name}">
            <img src="${t.imgURL}" class="filter-image" alt="${t.name}"/>
            <h3 class="filter-name">${d(t.name)}</h3>
            <p class="filter-category">${t.filter}</p>
        </li>`).join("");k.innerHTML=e,c(a.pagination.page,a.pagination.maxPage)}class g{constructor(t){p(this,"perPage");p(this,"page");p(this,"maxPage");p(this,"purpose");this.purpose=t,this.page=1,this.maxPage=1,this.purpose==="filters"?window.matchMedia("(min-width: 768px)").matches?this.perPage=12:this.perPage=9:this.purpose==="exercises"&&(window.matchMedia("(min-width: 768px)").matches?this.perPage=10:this.perPage=8),c(this.page,this.maxPage)}getPage(){return this.page}setMaxPage(t){this.maxPage=t}next(){this.page<this.maxPage&&this.page++,c(this.page,this.maxPage),this.purpose==="filters"?l():this.purpose==="exercises"&&o()}back(){this.page>1&&this.page--,c(this.page,this.maxPage),this.purpose==="filters"?l():this.purpose==="exercises"&&o()}reset(){this.page=1,c(this.page,this.maxPage),this.purpose==="filters"?l():this.purpose==="exercises"&&o()}last(){this.page=this.maxPage,c(this.page,this.maxPage),this.purpose==="filters"?l():this.purpose==="exercises"&&o()}}const M=document.querySelector(".main-heading"),B=document.querySelector(".category-heading"),T=document.querySelector(".exercises-search");function I(e){e.addEventListener("click",t=>{const i=t.target.closest(".filter-tabs-item");i&&(a.pagination=new g("filters"),M.innerHTML="Exercises",B.style.display="none",T.style.display="none",document.querySelectorAll(".filter-tabs-item").forEach(r=>r.classList.remove("active")),i.classList.add("active"),a.filter=i.dataset.filter,l())})}function N(){const e=document.querySelector(".pagination-first-button"),t=document.querySelector(".pagination-previous-button"),i=document.querySelector(".pagination-next-button"),r=document.querySelector(".pagination-last-button");e.addEventListener("click",()=>a.pagination.reset()),t.addEventListener("click",()=>a.pagination.back()),i.addEventListener("click",()=>a.pagination.next()),r.addEventListener("click",()=>a.pagination.last())}function O(e,t,i){e.addEventListener("click",()=>{i.classList.add("opened")}),t.addEventListener("click",()=>{i.classList.remove("opened")}),i.addEventListener("click",()=>{i.classList.remove("opened")})}const F=document.querySelector(".main-heading"),x=document.querySelector(".category-heading"),C=document.querySelector(".exercises-search");function A(e){e.addEventListener("click",t=>{const i=t.target.closest(".filter-tile");i&&(a.pagination=new g("exercises"),F.innerHTML="Exercises /",x.innerHTML=d(i.dataset.value),x.style.display="block",C.style.display="flex",a.filterValue=i.dataset.value,o())})}const V=document.querySelector(".motivation-text"),z=document.querySelector(".motivation-author");function D(e,t){V.innerHTML=t,z.innerHTML=e}async function Q(){let e=JSON.parse(localStorage.getItem("quote"));const t=new Date().getDate();if(!e||e.date!=t){const i=await P();localStorage.setItem("quote",JSON.stringify({...i,date:t})),e=JSON.parse(localStorage.getItem("quote"))}D(e.author,e.quote)}function R(e){return/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e)}function U(e){e.addEventListener("submit",t=>{try{t.preventDefault();const i=document.getElementById("subscription-email");if(!R(i.value))throw new Error;E(i.value),i.value=""}catch{h.error({title:"Error",message:"Invalid email",position:"bottomCenter"})}})}const b=document.getElementById("exercises-search"),f=document.querySelector(".search-delete-button");function j(e){e.addEventListener("submit",t=>{t.preventDefault(),a.pagination=new g("exercises"),b.value!=""?o(b.value):o()}),e.addEventListener("input",t=>{t.target.value!=""?f.style.display="block":f.style.display="none"}),e.addEventListener("reset",()=>{f.style.display="none",a.pagination=new g("exercises"),o()})}function J(){let e=window.location;const t=document.querySelector(".nav-list"),i=e.pathname.lastIndexOf("/")+1;t.querySelector('a[href="'+e.pathname.slice(i)+'"]').parentNode.classList.add("active"),e.pathname.slice(i)==="index.html"?Z():_()}async function Z(){const e=document.querySelector(".nav-toggle"),t=document.querySelector(".nav-close"),i=document.querySelector(".mobile-menu-backdrop");O(e,t,i);const r=document.querySelector(".filter-tabs-list"),s=document.querySelector(".content-list");I(r);const n=document.querySelector(".exercises-search");j(n),a.pagination=new g("filters"),l(),A(s),Q(),N();const u=document.querySelector(".subscription-form");U(u)}async function _(){}J();
//# sourceMappingURL=main-CbCI_tPE.js.map
